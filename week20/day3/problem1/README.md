# 문제 개요

문제: [숫자의 표현](https://school.programmers.co.kr/learn/courses/30/lessons/12924)

분류: 연습문제

난이도: Lv.2

# 문제 풀이

[다른 사람 풀이](https://school.programmers.co.kr/questions/45150)를 참고했고, **등차수열의 합 공식**을 이용하여 풀이했다.

등차수열의 합 공식은 **((a+b)\*x)/2 = n**이며 a는 첫 항, b는 마지막 항, x은 전체 항의 개수, n은 등차수열의 합을 의미한다.
문제에서 연속하는 두 항의 차이는 1로 고정되어 있으므로 x은 b-a+1로 치환할 수 있다.

예를 들어 1+2+3+4+5일 때, 마지막 항인 5에서 첫 항인 1을 뺀 값에 1을 더하면 5가 되고, 이는 항의 개수인 x과 같다.

**첫 항인 a에 1부터 n/2까지 대입하며 마지막 항 b를 찾고, 해당 수식이 성립할 때만 정답을 카운트하는 방식**으로 풀이한다.

b에 대해 등차수열 공식을 풀어보면 아래와 같다.

- ((a+b)\*x)/2 = n
- ((a+b)\*(b-a+1)) = 2n
- ab-a^2+a+b^2-ab+b = 2n
- -a^2+a+b^2+b = 2n
- -a(a-1)+b(b+1) = 2n
- b(b+1) = 2n+a(a-1)

따라서 b에 2n+a(a-1)의 제곱근을 대입하고, b와 b+1을 곱한 값이 2n+a(a-1)와 일치할 때 정답을 카운트한다.

예를 들어 n이 15이고 첫 항인 a가 1이라고 해보자.

- b = Math.floor(Math.sqrt(2\*n + a\*\*2 - a))
- b = Math.floor(Math.sqrt(2\*15 + 1\*\*2 - 1))
- b = Math.floor(Math.sqrt(30))
- b = Math.floor(5.xxx…)
- b = 5

b\*(b+1)은 5\*6으로 30이다. 그리고 2n+a(a-1) 또한 30이다. 이런 경우 정답을 카운트하는 것이다.

또한 이는 첫 항인 1부터 마지막 항인 5까지, 1+2+3+4+5가 문제에서 주어진 ‘연속하는 자연수들로 n을 표현하는 방법’이 된다는 것을 의미한다.
