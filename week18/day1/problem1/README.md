# 문제 개요

문제: [N-Queen](https://school.programmers.co.kr/learn/courses/30/lessons/12952)

분류: 연습문제

난이도: Lv.2

# 문제 풀이

다른 사람들의 풀이를 참고했다.

**백트래킹**을 사용하여 가능한 경우의 수를 구한다.

체스판은 2차원 배열로도 구현할 수 있지만
_”배열의 인덱스를 행, 배열의 원소를 퀸이 놓인 열”_
이라고 한다면 1차원 배열로 구현할 수 있다.(아래 그림 참고)

![](https://velog.velcdn.com/images/nullyng/post/e79d9823-e2d8-46e1-8955-9731af6640e8/image.png)

`n`개의 원소를 갖는 배열을 선언하고, 0번째 행부터 `n`번째 행까지 퀸을 놓는 모든 경우를 살펴본다. 해당 경우의 배치가 가능하다면 다음 행에 대해 재귀적으로 함수를 호출하고, 가능하지 않다면 다음 열에 퀸을 놓는 경우를 확인한다.

퀸이 서로를 공격하지 않도록 배치하기 위한 조건은 아래와 같다.

1. 가로, 세로 공격이 불가해야 한다.
   → **행마다 하나씩, 모두 다른 열에 배치한다.**
2. 대각선 공격이 불가해야 한다.
   → **대각선을 검사한다.**

1번의 경우 현재 행에 배치한 퀸의 열과 이전 행들에 배치된 퀸의 열을 비교하여 같은 열에 배치한 퀸이 존재한다면 조건을 만족하지 않는 것이다.

2번의 경우 기울기가 1인 일차함수의 성질을 이용한다.  
대각선 상에 있는 칸 (r1, c1)과 (r2, c2)가 있다고 했을 때

- |r1-r2| / |c1-c2| === 1

즉, 앞서 배치된 퀸 중에 **|r1-r2| === |c1-c2|**인 퀸이 존재한다면 조건을 만족하지 않는 것이다.

정리하자면 아래와 같다.

`n`개의 원소를 갖는 1차원 배열을 선언하고 각 행에 퀸이 배치된 열을 저장한다. 이때 재귀함수를 통해 퀸을 배치하며, 각 호출에서 퀸이 서로를 공격하지 않는지 검사한다. 모든 행에 대한 배치가 끝나면 정답을 카운트한다.
