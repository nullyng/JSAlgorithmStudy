# 문제 개요

문제: [[1차] 프렌즈4블록](https://school.programmers.co.kr/learn/courses/30/lessons/17679)

분류: 2018 KAKAO BLIND RECRUITMENT

난이도: Lv.2

# 문제 풀이

문제를 푸는 과정은 크게 두 가지이다.

1. 같은 모양의 블록을 지운다.
2. 위에 있는 블록을 아래로 떨어뜨린다.

이 두 과정을 더이상 지울 수 있는 4블록이 없을 때까지 반복한다.

## 1. 같은 모양의 블록을 지운다.

### 카피 배열 만들기

배열을 순차적으로 탐색하며 같은 모양의 블록이 2x2 형태로 4개가 붙어있는 것을 찾는다. 이때 원본 배열에서 곧바로 블록을 지우면 해당 블록들과 겹쳐서 4블록인 것은 이후 4블록으로 인식할 수 없게 된다.

예를 들어 아래와 같은 입력이 있다고 할 때 (0,0)~(1,1)에 해당하는 4블록과 (0,1)~(1,2)에 해당하는 4블록을 지울 수 있다.

```
TTTAFF
TTTMAF
MMAAFF
```

배열을 순차적으로 탐색하고 있기 때문에 이를 원본 배열에서 곧바로 지우면 (0,1)~(1,2)에 대한 4블록을 인식하지 못한다.

```
00TAFF
00TMAF
MMAAFF
```

따라서 원본 배열은 4블록을 찾는 용도로만 사용하고 원본 배열을 카피한 배열을 새로 생성하여 카피한 배열에서 블록을 지워야 한다.

### 블록 지우기

4블록 중 이미 지워진 것들은 빼고 지운 블록 개수를 카운트 한다.

그리고 4블록을 지우는데 나는 블록이 지워졌다는 걸 표시하기 위해 4블록을 `“0”`으로 바꾸었다. 이때 2x2 블록의 윗줄, 아랫줄 각각에 대해 `splice()`를 사용하여 2개를 지우고 `“0”`을 2개 추가하는 식으로 치환하였다.

이렇게 블록을 지운 카피 배열과 지운 블록의 개수를 반환한다. 카피 배열을 원본 배열에 저장하고 정답 변수에 지운 블록의 개수를 누적하여 더한다.

## 2. 위에 있는 블록을 아래로 떨어뜨린다.

### 행과 열을 바꾼 새 배열 만들기

위에 있는 블록을 아래로 떨어뜨려야 하는데 이때 행과 열 사이의 이동을 쉽게 하기 위해 아예 행과 열을 바꾼 새 배열을 만든다.

```
TTTANT
00FA00
000F00
T00RAA
TTMMMF
```

블록을 지웠을 때의 배열이 위와 같은 형태였다면 행과 열을 뒤바꿔 아래와 같이 만든다.

```
T00TT
T000T
TF00M
AAFRM
N00AM
T00AF
```

이렇게 되면 열이 행으로 바뀌어 좀 더 쉽게 블록을 떨어뜨리는 연산을 할 수 있다.

### 블록을 아래로 떨어뜨리기

각 행에서 “0”이 아닌 문자만 빼내고, 그 앞에 모자란 개수만큼 `“0”`을 추가하여 배열을 갱신한다.

ex) ['T', '0', '0', 'F', 'A'] -> ['0', '0', 'T', 'F', 'A']

### 다시 행과 열을 바꾸기

블록을 전부 떨어뜨렸다면 행과 열을 원래대로 바꾼 배열을 반환한다.
